webpackJsonp([55],{

/***/ 1031:
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(27)(undefined);
// imports


// module
exports.push([module.i, "\n.recommendpage {\n  height: 100%;\n  overflow-x: hidden;\n  overflow-y: auto;\n  box-sizing: border-box;\n  padding-bottom: 49px;\n  -webkit-overflow-scrolling: touch;\n}\n.recommendpage .mint-swipe {\n    height: 167px;\n}\n.recommendpage .mint-swipe a {\n      display: block;\n      width: 100%;\n      height: 100%;\n      overflow: hidden;\n}\n.recommendpage .mint-swipe a img {\n        width: 100%;\n}\n.recommendpage .mint-swipe.noindicator .mint-swipe-indicators {\n      display: none;\n}\n.recommendpage .mint-swipe .mint-swipe-indicators {\n      right: 10px;\n      left: auto;\n      -webkit-transform: none;\n          -ms-transform: none;\n              transform: none;\n}\n.recommendpage .mint-swipe .mint-swipe-indicators .mint-swipe-indicator {\n        opacity: 1;\n        background-color: #999999;\n}\n.recommendpage .mint-swipe .mint-swipe-indicators .mint-swipe-indicator.is-active {\n          background-color: #5f86fd;\n}\n.recommendpage .content.left .hot {\n    color: #5f86fd;\n}\n.recommendpage .content.right .last {\n    color: #5f86fd;\n}\n.recommendpage .content.right .nav:before {\n    left: 75%;\n}\n.recommendpage .content .nav {\n    position: relative;\n    height: 45px;\n    border-bottom: 1px solid #ebebeb;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n}\n.recommendpage .content .nav:before {\n      content: '';\n      position: absolute;\n      width: 32px;\n      height: 3px;\n      border-radius: 2px;\n      background-color: #5f86fd;\n      bottom: 3px;\n      left: 25%;\n      -webkit-transform: translateX(-50%);\n          -ms-transform: translateX(-50%);\n              transform: translateX(-50%);\n      -webkit-transition: all .2s ease-in-out;\n      transition: all .2s ease-in-out;\n}\n.recommendpage .content .nav a {\n      -webkit-box-flex: 1;\n      -webkit-flex: 1;\n          -ms-flex: 1;\n              flex: 1;\n      line-height: 45px;\n      font-size: 16px;\n      color: #666666;\n      text-align: center;\n}\n.recommendpage .content .hot-content a,\n  .recommendpage .content .last-content a {\n    display: block;\n    box-sizing: border-box;\n    padding-left: 15px;\n    width: 100%;\n    overflow: hidden;\n}\n.recommendpage .content .hot-content a .media-box,\n    .recommendpage .content .last-content a .media-box {\n      padding: 15px;\n      padding-left: 0;\n      border-bottom: 1px solid #ebebeb;\n      display: -webkit-box;\n      display: -webkit-flex;\n      display: -ms-flexbox;\n      display: flex;\n}\n.recommendpage .content .hot-content a .media-box .media-left,\n      .recommendpage .content .last-content a .media-box .media-left {\n        width: 66px;\n        height: 66px;\n        margin-right: 15px;\n}\n.recommendpage .content .hot-content a .media-box .media-left img,\n        .recommendpage .content .last-content a .media-box .media-left img {\n          width: 100%;\n          height: 100%;\n          border-radius: 5px;\n}\n.recommendpage .content .hot-content a .media-box .media-right,\n      .recommendpage .content .last-content a .media-box .media-right {\n        min-height: 66px;\n        display: -webkit-box;\n        display: -webkit-flex;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-orient: vertical;\n        -webkit-box-direction: normal;\n        -webkit-flex-direction: column;\n            -ms-flex-direction: column;\n                flex-direction: column;\n        -webkit-box-pack: justify;\n        -webkit-justify-content: space-between;\n            -ms-flex-pack: justify;\n                justify-content: space-between;\n        line-height: 1;\n        -webkit-box-flex: 1;\n        -webkit-flex: 1;\n            -ms-flex: 1;\n                flex: 1;\n}\n.recommendpage .content .hot-content a .media-box .media-right h5,\n        .recommendpage .content .last-content a .media-box .media-right h5 {\n          font-size: 17px;\n          color: #333333;\n          height: 17px;\n}\n.recommendpage .content .hot-content a .media-box .media-right .name,\n        .recommendpage .content .last-content a .media-box .media-right .name {\n          font-size: 13px;\n          color: #666666;\n}\n.recommendpage .content .hot-content a .media-box .media-right .info,\n        .recommendpage .content .last-content a .media-box .media-right .info {\n          font-size: 13px;\n          color: #b2b2b2;\n          display: -webkit-box;\n          display: -webkit-flex;\n          display: -ms-flexbox;\n          display: flex;\n}\n.recommendpage .content .hot-content a .media-box .media-right .info span,\n          .recommendpage .content .last-content a .media-box .media-right .info span {\n            -webkit-box-flex: 1;\n            -webkit-flex: 1;\n                -ms-flex: 1;\n                    flex: 1;\n}\n.recommendpage .content .hot-content a .media-box .media-right .info .time,\n          .recommendpage .content .last-content a .media-box .media-right .info .time {\n            text-align: center;\n            -webkit-box-flex: 0;\n            -webkit-flex: none;\n                -ms-flex: none;\n                    flex: none;\n            white-space: nowrap;\n}\n.recommendpage .content .hot-content a .media-box .media-right .info .price,\n          .recommendpage .content .last-content a .media-box .media-right .info .price {\n            text-align: right;\n            color: #ff1700;\n}\n.recommendpage .content .loading-ico {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n        -ms-flex-align: center;\n            align-items: center;\n    -webkit-box-pack: center;\n    -webkit-justify-content: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n    color: #b2b2b2;\n    line-height: 35px;\n    font-size: 14px;\n}\n.recommendpage .content .loading-ico span:first-child {\n      margin-right: 5px;\n}\n", ""]);

// exports


/***/ }),

/***/ 1189:
/***/ (function(module, exports, __webpack_require__) {

module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return (_vm.finish) ? _c('div', {
    directives: [{
      name: "infinite-scroll",
      rawName: "v-infinite-scroll",
      value: (_vm.loadMore),
      expression: "loadMore"
    }],
    staticClass: "recommendpage",
    attrs: {
      "infinite-scroll-disabled": _vm.loading,
      "infinite-scroll-distance": 291
    }
  }, [_c('mt-swipe', {
    class: {
      noindicator: _vm.banner.length <= 1
    },
    attrs: {
      "auto": 3000
    }
  }, _vm._l((_vm.banner), function(item) {
    return _c('mt-swipe-item', {
      key: item.id
    }, [_c('a', {
      attrs: {
        "href": "javascript:;"
      },
      on: {
        "click": function($event) {
          _vm.bannerClick(item)
        }
      }
    }, [_c('img', {
      attrs: {
        "src": item.img,
        "alt": item.url
      }
    })])])
  })), _vm._v(" "), _c('div', {
    staticClass: "content",
    class: {
      left: _vm.navLeft, right: !_vm.navLeft
    }
  }, [_c('div', {
    staticClass: "nav"
  }, [_c('a', {
    staticClass: "hot",
    attrs: {
      "href": "javascript:;"
    },
    on: {
      "click": _vm.toHot
    }
  }, [_vm._v("热门精选")]), _vm._v(" "), _c('a', {
    staticClass: "last",
    attrs: {
      "href": "javascript:;"
    },
    on: {
      "click": _vm.toLastest
    }
  }, [_vm._v("最新直播")])]), _vm._v(" "), _c('div', {
    directives: [{
      name: "show",
      rawName: "v-show",
      value: (_vm.navLeft),
      expression: "navLeft"
    }],
    staticClass: "hot-content"
  }, _vm._l((_vm.hotList), function(item) {
    return _c('router-link', {
      key: item.id,
      attrs: {
        "to": '/personalCenter/course/' + item.id + '&' + _vm.userId
      }
    }, [_c('div', {
      staticClass: "media-box"
    }, [_c('div', {
      staticClass: "media-left"
    }, [_c('img', {
      attrs: {
        "src": item.img + '?imageView2/1/w/200/h/200/interlace/1',
        "width": "66",
        "alt": ""
      }
    })]), _vm._v(" "), _c('div', {
      staticClass: "media-right"
    }, [_c('h5', {
      staticClass: "single-text"
    }, [_vm._v(_vm._s(item.name))]), _vm._v(" "), _c('p', {
      staticClass: "name"
    }, [_vm._v(_vm._s(item.liveName))]), _vm._v(" "), _c('p', {
      staticClass: "info"
    }, [_c('span', {
      staticClass: "number"
    }, [_vm._v(_vm._s(item.num) + "人次")]), _vm._v(" "), _c('span', {
      staticClass: "time"
    }, [_vm._v(_vm._s(item.date))]), _vm._v(" "), _c('span', {
      staticClass: "price"
    }, [(item.price != '') ? _c('i', [_vm._v("¥" + _vm._s(item.price))]) : _vm._e()])])])])])
  })), _vm._v(" "), _c('div', {
    directives: [{
      name: "show",
      rawName: "v-show",
      value: (!_vm.navLeft),
      expression: "!navLeft"
    }],
    staticClass: "last-content"
  }, _vm._l((_vm.lastestList), function(item) {
    return _c('router-link', {
      key: item.id,
      attrs: {
        "to": '/personalCenter/course/' + item.id + '&' + _vm.userId
      }
    }, [_c('div', {
      staticClass: "media-box"
    }, [_c('div', {
      staticClass: "media-left"
    }, [_c('img', {
      attrs: {
        "src": item.img + '?imageView2/1/w/200/h/200/interlace/1',
        "width": "66",
        "alt": ""
      }
    })]), _vm._v(" "), _c('div', {
      staticClass: "media-right"
    }, [_c('h5', {
      staticClass: "single-text"
    }, [_vm._v(_vm._s(item.name))]), _vm._v(" "), _c('p', {
      staticClass: "name"
    }, [_vm._v(_vm._s(item.liveName))]), _vm._v(" "), _c('p', {
      staticClass: "info"
    }, [_c('span', {
      staticClass: "number"
    }, [_vm._v(_vm._s(item.num) + "人次")]), _vm._v(" "), _c('span', {
      staticClass: "time"
    }, [_vm._v(_vm._s(item.date))]), _vm._v(" "), _c('span', {
      staticClass: "price"
    }, [(item.price != '') ? _c('i', [_vm._v("¥" + _vm._s(item.price))]) : _vm._e()])])])])])
  })), _vm._v(" "), _c('div', {
    directives: [{
      name: "show",
      rawName: "v-show",
      value: (_vm.loading && !_vm.isEnd),
      expression: "loading&&!isEnd"
    }],
    staticClass: "loading-ico"
  }, [_c('mt-spinner', {
    attrs: {
      "type": "fading-circle",
      "size": 18
    }
  }), _vm._v(" "), _c('span', [_vm._v("正在加载")])], 1), _vm._v(" "), _c('nomore', {
    directives: [{
      name: "show",
      rawName: "v-show",
      value: (_vm.isEnd),
      expression: "isEnd"
    }],
    attrs: {
      "text": "没有更多啦"
    }
  })], 1)], 1) : _vm._e()
},staticRenderFns: []}
module.exports.render._withStripped = true
if (false) {
  module.hot.accept()
  if (module.hot.data) {
     require("vue-hot-reload-api").rerender("data-v-721b64d8", module.exports)
  }
}

/***/ }),

/***/ 1299:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(1031);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var update = __webpack_require__(29)("9586b9a6", content, false);
// Hot Module Replacement
if(false) {
 // When the styles change, update the <style> tags
 if(!content.locals) {
   module.hot.accept("!!../../node_modules/css-loader/index.js!../../node_modules/vue-loader/lib/style-compiler/index.js?{\"vue\":true,\"id\":\"data-v-721b64d8\",\"scoped\":false,\"hasInlineConfig\":true}!../../node_modules/sass-loader/lib/loader.js!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./recommend.vue", function() {
     var newContent = require("!!../../node_modules/css-loader/index.js!../../node_modules/vue-loader/lib/style-compiler/index.js?{\"vue\":true,\"id\":\"data-v-721b64d8\",\"scoped\":false,\"hasInlineConfig\":true}!../../node_modules/sass-loader/lib/loader.js!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./recommend.vue");
     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];
     update(newContent);
   });
 }
 // When the module is disposed, remove the <style> tags
 module.hot.dispose(function() { update(); });
}

/***/ }),

/***/ 508:
/***/ (function(module, exports, __webpack_require__) {

var disposed = false
function injectStyle (ssrContext) {
  if (disposed) return
  __webpack_require__(1299)
}
var Component = __webpack_require__(28)(
  /* script */
  __webpack_require__(933),
  /* template */
  __webpack_require__(1189),
  /* styles */
  injectStyle,
  /* scopeId */
  null,
  /* moduleIdentifier (server only) */
  null
)
Component.options.__file = "F:\\SVN\\webApp\\公众号\\dacelve1.0\\src\\recommend\\recommend.vue"
if (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== "default" && key.substr(0, 2) !== "__"})) {console.error("named exports are not supported in *.vue files.")}
if (Component.options.functional) {console.error("[vue-loader] recommend.vue: functional components are not supported with templates, they should use render functions.")}

/* hot reload */
if (false) {(function () {
  var hotAPI = require("vue-hot-reload-api")
  hotAPI.install(require("vue"), false)
  if (!hotAPI.compatible) return
  module.hot.accept()
  if (!module.hot.data) {
    hotAPI.createRecord("data-v-721b64d8", Component.options)
  } else {
    hotAPI.reload("data-v-721b64d8", Component.options)
  }
  module.hot.dispose(function (data) {
    disposed = true
  })
})()}

module.exports = Component.exports


/***/ }),

/***/ 933:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(NProgress) {

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _nomore = __webpack_require__(135);

var _nomore2 = _interopRequireDefault(_nomore);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = {
    props: ['hostURL'],
    data: function data() {
        return {
            navLeft: true, // 导航栏是否为左
            loading: false, // 是否禁止滑动加载
            banner: [], // 轮播图数据
            hotList: [], // 热门课程数据
            lastestList: [], // 最新课程数据
            hotPage: 1, // 热门课程页码
            lastPage: 1, // 最新直播页码
            isEnd: false, // 是否读取完毕
            finish: false // 数据是否请求完毕
        };
    },

    computed: {
        sdkdata: function sdkdata() {
            return this.$store.state.sdkdata;
        },
        userId: function userId() {
            return this.$store.state.userInfo.user_id;
        }
    },
    created: function created() {
        // this.$emit('hideTabber')
        this.$store.commit('hideTabber');
        // 通过分享链接微信会默认拼接?参数，检测到?是跳转回正常url
        if (location.href.indexOf('?') != -1) {
            location.replace('http://' + location.host + '/' + location.hash);
        }
        // 微信sdk数据获取完毕后进行sdk配置
        if (this.sdkdata.appId) {
            this.config();
        }
        // this.updateTitle('优课推荐')
        this.$store.commit('setTitle', '优课推荐');
        this.getBanner();
        this.getList(1);
        // Indicator.open()
        NProgress.start();
        // this.$emit('showTabber')
        this.$store.commit('showTabber');
    },
    destroyed: function destroyed() {
        // Indicator.close()
        NProgress.done();
    },

    methods: {
        config: function config() {
            // sdk配置
            var data = this.sdkdata;
            //            wx.config({
            //                debug: false, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。
            //                appId: data.appId, // 必填，公众号的唯一标识
            //                timestamp: data.timestamp, // 必填，生成签名的时间戳
            //                nonceStr: data.nonceStr, // 必填，生成签名的随机串
            //                signature: data.signature, // 必填，签名，见附录1
            //                jsApiList: ['onMenuShareTimeline', 'onMenuShareAppMessage', 'hideMenuItems', 'showMenuItems'] // 必填，需要使用的JS接口列表，所有JS接口列表见附录2
            //            });
            //            wx.ready(() => {
            //                this.hideMenuItems()
            //                //分享到朋友圈
            //                wx.onMenuShareTimeline({
            //                    imgUrl: this.hostURL + '/images/logo.JPG',
            //                    title: '大策略-专注于金融投资领域的知识分享平台，精品课程等你来听'
            //                })
            //                //分享给朋友
            //                wx.onMenuShareAppMessage({
            //                    imgUrl: this.hostURL + '/images/logo.JPG',
            //                    title: '大策略-专注于金融投资领域的知识分享平台',
            //                    desc: '资深专家，老师，达人正在为您分享',
            //                })
            //            })
            //            wx.error()
        },
        loadMore: function loadMore() {
            var _this = this;

            // 滚动加载
            if (this.hotList.length == 0 || this.loading) {
                return;
            }
            this.loading = true;
            if (this.navLeft) {
                this.hotPage++;
                this.getList(1, this.hotPage, this.hotList[this.hotList.length - 1].id, function () {
                    _this.loading = false;
                });
            } else {
                this.lastPage++;
                this.getList(2, this.lastPage, this.lastestList[this.lastestList.length - 1].id, function () {
                    _this.loading = false;
                });
            }
        },
        toHot: function toHot() {
            // 列表转为热门精选
            if (!this.navLeft) {
                this.loading = false;
                // Indicator.open()
                NProgress.start();
                this.navLeft = true;
                this.lastPage = 1;
                this.isEnd = false;
                this.getList(1);
            }
        },
        toLastest: function toLastest() {
            // 列表转为最新直播
            if (this.navLeft) {
                this.loading = false;
                // Indicator.open()
                NProgress.start();
                this.navLeft = false;
                this.hotPage = 1;
                this.isEnd = false;
                this.getList(2);
            }
        },
        getBanner: function getBanner() {
            var _this2 = this;

            //获取轮播图数据
            this.$http.get(this.hostUrl + '/Index/banner').then(function (res) {
                res = res.body;
                if (res.code == 200) {
                    _this2.banner = res.data;
                } else {
                    console.log(res);
                }
            });
        },
        bannerClick: function bannerClick(obj) {
            // 轮播图点击后记录点击情况后跳转
            this.$http.get(this.hostUrl + '/Index/addBannerNum/id/' + obj.id).then(function (res) {
                if (res.body.code == 200) {
                    location.href = obj.url;
                } else {
                    console.log(res.body);
                }
            });
        },
        getList: function getList(type, page, lastId, fn) {
            var _this3 = this;

            //获取列表数据，type为1时为热门精选，2时为最新直播
            if (!this.isEnd) {
                page = page ? page : 1;
                lastId = lastId ? lastId : 0;
                this.$http.get(this.hostUrl + '/Index/courseList?page=' + page + '&type=' + type + '&lastId=' + lastId).then(function (res) {
                    if (res.body.code == -5002) {
                        // location.href = res.body.data.url
                    } else if (res.body.code == 200) {
                        _this3.finish = true;
                        if (res.body.data.length < 10) {
                            _this3.isEnd = true;
                        }
                        if (page == 1) {
                            if (type == 1) {
                                _this3.hotList = res.body.data;
                            } else if (type == 2) {
                                _this3.lastestList = res.body.data;
                            }
                        } else {
                            if (type == 1) {
                                _this3.hotList = _this3.hotList.concat(res.body.data);
                            } else if (type == 2) {
                                _this3.lastestList = _this3.lastestList.concat(res.body.data);
                            }
                        }
                    } else {
                        console.log(res.body);
                    }
                    // Indicator.close()
                    NProgress.done();
                    if (fn) {
                        fn();
                    }
                });
            }
        }
    },
    components: {
        nomore: _nomore2.default
    },
    watch: {
        sdkdata: function sdkdata(val) {
            // 当sdk数据请求回来后配置sdk
            if (val.appId) {
                this.config();
            }
        }
    }
}; //
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

// import IScroll from 'iscroll'
// import { Indicator } from 'mint-ui'
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(99)))

/***/ })

});